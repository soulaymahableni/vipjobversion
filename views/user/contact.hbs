<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{title}}</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
</head>
<body>
{{!-- views/contact.hbs --}}
<div class="min-h-screen flex flex-col bg-gradient-to-b from-blue-50 to-white">
  {{> navbar }}

  <section class="py-20 px-4">
    <div class="container mx-auto">
      <div class="text-center mb-16">
        <div class="inline-block px-3 py-1 mb-4 rounded-full bg-blue-100 text-sm font-medium text-blue-800">
          Contactez-nous
        </div>
        <h1 class="text-4xl font-bold mb-4">Nous sommes √† votre √©coute</h1>
        <p class="text-gray-600 max-w-xl mx-auto">
          Vous avez des questions ou besoin d'assistance ? Notre √©quipe est disponible pour vous aider.
        </p>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
        <div class="bg-white p-8 shadow-lg rounded-xl">
          <h2 class="text-2xl font-bold mb-6">Envoyez-nous un message</h2>
     

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const urlParams = new URLSearchParams(window.location.search);
    const status = urlParams.get('status');

    if (status === 'success') {
      Swal.fire({
        icon: 'success',
        title: '‚úÖ Message envoy√©',
        text: 'Votre message a bien √©t√© envoy√©.'
      });
    } else if (status === 'error') {
      Swal.fire({
        icon: 'error',
        title: '‚ùå Erreur',
        text: 'Une erreur est survenue lors de l\'envoi du message.'
      });
    }

    // üîÑ Supprimer le param√®tre "status" de l'URL apr√®s affichage
    if (status) {
      const url = new URL(window.location.href);
      url.searchParams.delete('status');
      window.history.replaceState({}, document.title, url.toString());
    }
  });
</script>


          <form action="/submit-contact" method="POST">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
              <div>
                <label for="name" class="block text-sm font-medium text-gray-700 mb-1">
                  Nom complet
                </label>
                <input 
                  id="name" 
                  name="name"
                  class="w-full rounded-md border border-gray-300 px-3 py-2"
                  placeholder="Votre nom" 
                  required
                />
              </div>
              <div>
                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">
                  Email
                </label>
                <input 
                  id="email" 
                  name="email"
                  type="email" 
                  class="w-full rounded-md border border-gray-300 px-3 py-2"
                  placeholder="votre@email.com" 
                  required
                />
              </div>
            </div>
            <div class="mb-6">
              <label for="subject" class="block text-sm font-medium text-gray-700 mb-1">
                Sujet
              </label>
              <input 
                id="subject" 
                name="subject"
                class="w-full rounded-md border border-gray-300 px-3 py-2"
                placeholder="Sujet de votre message" 
                required
              />
            </div>
            <div class="mb-6">
              <label for="message" class="block text-sm font-medium text-gray-700 mb-1">
                Message
              </label>
              <textarea 
                id="message" 
                name="message"
                class="w-full rounded-md border border-gray-300 px-3 py-2"
                placeholder="Votre message..." 
                rows="5" 
                required
              ></textarea>
            </div>
            <button type="submit" class="w-full bg-gray-700 hover:bg-gray-800 text-white py-2 px-4 rounded">
              Envoyer le message
            </button>
          </form>
        </div>

        <div class="space-y-8">
          <div class="bg-white p-8 shadow-lg rounded-xl overflow-hidden">
            <h2 class="text-2xl font-bold mb-6">Carte de la Tunisie</h2>
            <div id="tunisia-map" class="w-full h-[500px] rounded-lg overflow-hidden shadow-md border border-gray-200">
              <div class="flex items-center justify-center h-full bg-gray-50">
                <p class="text-gray-500">Chargement de la carte de Tunisie...</p>
              </div>
            </div>
          </div>

          <div class="bg-white p-8 shadow-lg rounded-xl">
            <h2 class="text-2xl font-bold mb-6">Informations de contact</h2>
            <div class="space-y-6">
              <div class="flex items-start">
                <div class="flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center">
                  <i class="fas fa-map-marker-alt text-blue-600"></i>
                </div>
                <div class="ml-4">
                  <h3 class="text-lg font-medium">Adresse</h3>
                  <p class="text-gray-600">Centre Urbain Nord, Tunis 1082, Tunisie</p>
                </div>
              </div>
              <div class="flex items-start">
                <div class="flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center">
                  <i class="fas fa-phone text-blue-600"></i>
                </div>
                <div class="ml-4">
                  <h3 class="text-lg font-medium">T√©l√©phone</h3>
                  <p class="text-gray-600">+216 70 123 456</p>
                </div>
              </div>
              <div class="flex items-start">
                <div class="flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center">
                  <i class="fas fa-envelope text-blue-600"></i>
                </div>
                <div class="ml-4">
                  <h3 class="text-lg font-medium">Email</h3>
                  <p class="text-gray-600">contact@vipjob.tn</p>
                </div>
              </div>
              <div class="flex items-start">
                <div class="flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center">
                  <i class="fas fa-comment text-blue-600"></i>
                </div>
                <div class="ml-4">
                  <h3 class="text-lg font-medium">Assistance</h3>
                  <p class="text-gray-600">support@vipjob.tn</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  {{> footer }}
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const mapContainer = document.getElementById('tunisia-map');
    
    // Create and add iframe to the map container
    const iframe = document.createElement('iframe');
    iframe.src = "https://www.openstreetmap.org/export/embed.html?bbox=7.5,30.2,11.6,37.7&amp;layer=mapnik";
    iframe.style.width = '100%';
    iframe.style.height = '100%';
    iframe.style.border = 'none';
    iframe.style.borderRadius = '0.5rem';
    
    // Clear the container and add the iframe
    mapContainer.innerHTML = '';
    mapContainer.appendChild(iframe);
  });
</script>
</body>
</html>
